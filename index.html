<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pupan v2</title>
  <style>

  </style>
</head>
<body>
 
  <button type="button" class="btn" onclick="test()">Basic</button>
  <div ><a href="https://chat-api.one.th/go_api/api/v1/openScanQRcodeWithValue" target="_blank">Scan QR Code</a </div>
 

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
  <script>
   
    // 
    var data1;

    function oneChatCallBackQRScanner(ScanQRcodevalue){
      alert(ScanQRcodevalue);
      console.log(ScanQRcodevalue);
      data1 = ScanQRcodevalue;

      
     if (ScanQRcodevalue === ""){
      alert("data empty ")
    }else { 

      const data = { username: 'pupan1123456' };
      fetch('https://a25449358b186079cf9d262feb4b4984.m.pipedream.net', {
        method: 'POST', // or 'PUT'
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })
      .then(response => response.json())
      .then(data => {
        console.log('Success:', data);
      })
      .catch((error) => {
        console.error('Error:', error);
      });
    }

      $.ajax({
        type: 'POST',
        url: 'https://a25449358b186079cf9d262feb4b4984.m.pipedream.net',
        data: {
          "data": data1,
          "size": 363,
          "style": "bold",
          "name": "pupan",
          "hOffset": 250,
          "vOffset": 100,
          "alignment": "center1112",
          "onMouseUp": "sun1.opacity = (sun1.opacity / 100) * 90;"
      },
        success: function(msg) {
          alert(msg);
        }
      });


      
   

    
   
    
} 
function test(){

  
    // var tmp = JSON.stringify($('.dd').nestable('serialize'));
    // tmp value: [{"id":21,"children":[{"id":196},{"id":195},{"id":49},{"id":194}]},{"id":29,"children":[{"id":184},{"id":152}]},...]
    $.ajax({
      type: 'POST',
      url: 'https://a25449358b186079cf9d262feb4b4984.m.pipedream.net',
      data: {
        "data": "pupan",
        "size": 362,
        "style": "bold",
        "name": "pupan",
        "hOffset": 250,
        "vOffset": 100,
        "alignment": "center1112",
        "onMouseUp": "sun1.opacity = (sun1.opacity / 100) * 90;"
    },
      success: function(msg) {
        alert(msg);
      }
    });

}
    
  
    
  </script>
</body>
</html>